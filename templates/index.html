{% extends "base.html" %}
{% load static %}

{% block title %}Home - Cafe{% endblock %}

{% block content %}
<div class="container py-5">

    <!-- Hero Slider with gradient overlay -->
    <div id="heroCarousel" class="carousel slide mb-5 shadow rounded" data-bs-ride="carousel">
        <div class="carousel-inner rounded">
            <div class="carousel-item active position-relative">
                <img src="{% static 'img/slider1.jpg' %}" class="d-block w-100" alt="Slider 1" style="height: 450px; object-fit: cover;">
                <div class="overlay"></div>
                <div class="carousel-caption d-none d-md-block text-start">
                    <h1 class="fw-bold display-5">Welcome to Our Cafe ‚òï</h1>
                    <p class="fs-5">Enjoy freshly brewed coffee & delicious treats!</p>
                    <a href="{% url 'menu' %}" class="btn btn-danger btn-lg mt-2">View Menu</a>
                </div>
            </div>
            <div class="carousel-item position-relative">
                <img src="{% static 'img/slider2.jpg' %}" class="d-block w-100" alt="Slider 2" style="height: 450px; object-fit: cover;">
                <div class="overlay"></div>
                <div class="carousel-caption d-none d-md-block text-start">
                    <h1 class="fw-bold display-5">Delicious Beverages üçπ</h1>
                    <p class="fs-5">Refreshing drinks for every mood.</p>
                    <a href="{% url 'menu' %}" class="btn btn-danger btn-lg mt-2">Order Now</a>
                </div>
            </div>
            <div class="carousel-item position-relative">
                <img src="{% static 'img/slider3.jpg' %}" class="d-block w-100" alt="Slider 3" style="height: 450px; object-fit: cover;">
                <div class="overlay"></div>
                <div class="carousel-caption d-none d-md-block text-start">
                    <h1 class="fw-bold display-5">Fresh & Tasty üç∞</h1>
                    <p class="fs-5">Indulge in desserts and bakery items!</p>
                    <a href="{% url 'menu' %}" class="btn btn-danger btn-lg mt-2">Explore Now</a>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon bg-dark rounded-circle p-3"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon bg-dark rounded-circle p-3"></span>
        </button>
    </div>

    <!-- Categories Section -->
    <h2 class="text-center mb-5 fw-bold section-title">üçΩÔ∏è Our Categories</h2>
    <div class="row g-4 justify-content-center">
        {% for category in categories|slice:":6" %}
        <div class="col-6 col-sm-4 col-md-2 d-flex justify-content-center">
            <div class="card category-card h-100 shadow-sm border-0 rounded-4 overflow-hidden position-relative">
                <div class="img-container">
                    {% if category.image %}
                    <img src="{{ category.image.url }}" class="card-img-top" alt="{{ category.name }}">
                    {% else %}
                    <img src="{% static 'img/placeholder.jpg' %}" class="card-img-top" alt="{{ category.name }}">
                    {% endif %}
                    <div class="img-overlay"></div>
                </div>
                <div class="card-body text-center">
                    <h6 class="fw-bold">{{ category.name }}</h6>
                    <a href="{% url 'menu' %}?category={{ category.id }}" class="btn btn-danger mt-2 px-3 btn-sm">View Items</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Call to Action Banner -->
    <div class="cta-banner mt-5 p-5 text-center text-white rounded-4 shadow-lg">
        <h3 class="fw-bold mb-3">Discover More Delicious Items!</h3>
        <a href="{% url 'menu' %}" class="btn btn-lg btn-light px-5 fw-bold">View Full Menu</a>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<style>
/* Overlay for carousel */
.overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: linear-gradient(to right, rgba(0,0,0,0.6), rgba(0,0,0,0.1));
    border-radius: 0.5rem;
}

/* Section Title */
.section-title {
    position: relative;
    display: inline-block;
}
.section-title::after {
    content: '';
    width: 60%;
    height: 4px;
    background: #dc3545;
    position: absolute;
    left: 20%;
    bottom: -10px;
    border-radius: 2px;
    animation: grow 1s ease-in-out;
}
@keyframes grow {
    from { width: 0; }
    to { width: 60%; }
}

/* Category Cards */
.category-card {
    transition: transform 0.4s, box-shadow 0.4s;
}
.category-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}
.category-card img {
    height: 160px;
    object-fit: cover;
    transition: transform 0.5s ease;
}
.category-card:hover img {
    transform: scale(1.1);
}
.img-container {
    position: relative;
    overflow: hidden;
}
.img-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(220,53,69,0.15);
    opacity: 0;
    transition: opacity 0.4s;
}
.category-card:hover .img-overlay {
    opacity: 1;
}

/* CTA Banner */
.cta-banner {
    background: linear-gradient(45deg, #dc3545, #ff6f61);
}
</style>
{% endblock %}
